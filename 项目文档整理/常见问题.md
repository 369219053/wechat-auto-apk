# å¸¸è§é—®é¢˜

æœ¬æ–‡æ¡£è®°å½•å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚

---

## ğŸ”§ ç¼–è¯‘ç›¸å…³é—®é¢˜

### Q1: Gradleç‰ˆæœ¬ä¸å…¼å®¹

**ç°è±¡**:
````
The minimum compatible Gradle version is 8.5.
````

**è§£å†³æ–¹æ¡ˆ**:

1. **ä¿®æ”¹gradle-wrapper.properties**:
   ````properties
   distributionUrl=https\://services.gradle.org/distributions/gradle-8.13-bin.zip
   ````

2. **ä¿®æ”¹build.gradle (æ ¹ç›®å½•)**:
   ````gradle
   classpath 'com.android.tools.build:gradle:8.13.1'
   ````

3. **é‡æ–°åŒæ­¥**:
   ````bash
   ./gradlew --stop
   ./gradlew assembleDebug
   ````

---

### Q2: æ‰¾ä¸åˆ°Javaç¯å¢ƒ

**ç°è±¡**:
````
Unable to locate a Java Runtime.
````

**è§£å†³æ–¹æ¡ˆ**:

è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡:
````bash
export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home"
./gradlew assembleDebug
````

---

### Q3: gradle-wrapper.jaræŸå

**ç°è±¡**:
````
ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain
````

**åŸå› **: gradle-wrapper.jaræ–‡ä»¶æŸåæˆ–ä¸å®Œæ•´

**è§£å†³æ–¹æ¡ˆ**:

é‡æ–°ä¸‹è½½wrapper:
````bash
curl -L -o gradle/wrapper/gradle-wrapper.jar \
  https://raw.githubusercontent.com/gradle/gradle/master/gradle/wrapper/gradle-wrapper.jar
````

---

### Q4: ç¼ºå°‘åº”ç”¨å›¾æ ‡

**ç°è±¡**:
````
error: resource mipmap/ic_launcher not found
````

**è§£å†³æ–¹æ¡ˆ**:

ä½¿ç”¨ImageMagickç”Ÿæˆå›¾æ ‡:
````bash
# åˆ›å»ºmipmapç›®å½•
mkdir -p app/src/main/res/mipmap-{mdpi,hdpi,xhdpi,xxhdpi,xxxhdpi}

# ç”Ÿæˆä¸åŒå°ºå¯¸çš„å›¾æ ‡
convert -size 48x48 xc:#4CAF50 -gravity center -pointsize 24 \
  -fill white -annotate +0+0 "W" app/src/main/res/mipmap-mdpi/ic_launcher.png

convert -size 72x72 xc:#4CAF50 -gravity center -pointsize 36 \
  -fill white -annotate +0+0 "W" app/src/main/res/mipmap-hdpi/ic_launcher.png

convert -size 96x96 xc:#4CAF50 -gravity center -pointsize 48 \
  -fill white -annotate +0+0 "W" app/src/main/res/mipmap-xhdpi/ic_launcher.png

convert -size 144x144 xc:#4CAF50 -gravity center -pointsize 72 \
  -fill white -annotate +0+0 "W" app/src/main/res/mipmap-xxhdpi/ic_launcher.png

convert -size 192x192 xc:#4CAF50 -gravity center -pointsize 96 \
  -fill white -annotate +0+0 "W" app/src/main/res/mipmap-xxxhdpi/ic_launcher.png

# å¤åˆ¶ä¸ºroundå›¾æ ‡
for dir in mdpi hdpi xhdpi xxhdpi xxxhdpi; do
  cp app/src/main/res/mipmap-$dir/ic_launcher.png \
     app/src/main/res/mipmap-$dir/ic_launcher_round.png
done
````

---

## ğŸ“± çœŸæœºè¿æ¥é—®é¢˜

### Q5: æ— æ³•è¿æ¥çœŸæœº

**ç°è±¡**:
````
adb devices
List of devices attached
(ç©º)
````

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ³•1: æ— çº¿ADB (æ¨è)

1. **æ‰‹æœºç«¯è®¾ç½®**:
   ````
   è®¾ç½® -> ç³»ç»Ÿ -> å¼€å‘è€…é€‰é¡¹ -> æ— çº¿è°ƒè¯• (æ‰“å¼€)
   ````

2. **é¦–æ¬¡é…å¯¹** (åªéœ€ä¸€æ¬¡):
   ````bash
   # æ‰‹æœºä¸Šç‚¹å‡»"ä½¿ç”¨é…å¯¹ç é…å¯¹è®¾å¤‡"
   # è®°ä¸‹é…å¯¹ç ã€IPå’Œç«¯å£
   adb pair 192.168.1.3:37859
   # è¾“å…¥é…å¯¹ç 
   ````

3. **æ—¥å¸¸è¿æ¥**:
   ````bash
   adb connect 192.168.1.3:41239
   ````

#### æ–¹æ³•2: USBè¿æ¥

1. å¼€å¯USBè°ƒè¯•
2. è¿æ¥æ•°æ®çº¿
3. æ‰‹æœºä¸Šå…è®¸USBè°ƒè¯•

---

### Q6: è¿æ¥åæ— æ³•å®‰è£…

**ç°è±¡**:
````
adb: failed to install: Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE]
````

**è§£å†³æ–¹æ¡ˆ**:

å¸è½½æ—§ç‰ˆæœ¬åé‡æ–°å®‰è£…:
````bash
adb -s 192.168.1.3:41239 uninstall com.wechat.auto
adb -s 192.168.1.3:41239 install -r app/build/outputs/apk/debug/app-debug.apk
````

---

## ğŸ› åŠŸèƒ½é—®é¢˜

### Q7: ç‚¹å‡»æŒ‰é’®æ²¡ååº”

**ç°è±¡**: ç‚¹å‡»"å¯åŠ¨è‡ªåŠ¨åŒ–ä»»åŠ¡"æŒ‰é’®,æ²¡æœ‰ä»»ä½•ååº”

**å¯èƒ½åŸå› **:

1. **æŒ‰é’®è¢«ç¦ç”¨**
   - æ£€æŸ¥æ— éšœç¢æœåŠ¡æ˜¯å¦å·²å¼€å¯
   - çŠ¶æ€åº”æ˜¾ç¤º âœ…

2. **æ— éšœç¢æœåŠ¡æœªè¿è¡Œ**
   - é‡æ–°å¼€å¯æ— éšœç¢æœåŠ¡
   - æ€æ‰åº”ç”¨é‡æ–°æ‰“å¼€

**è§£å†³æ–¹æ¡ˆ**:

````bash
# æŸ¥çœ‹æ—¥å¿—
adb -s 192.168.1.3:41239 logcat | grep -E "MainActivity|WeChatAutoService"
````

---

### Q8: æç¤º"ä»»åŠ¡å·²å¯åŠ¨"ä½†å¾®ä¿¡æ²¡æ‰“å¼€

**ç°è±¡**: Toastæ˜¾ç¤º"è‡ªåŠ¨åŒ–ä»»åŠ¡å·²å¯åŠ¨",ä½†å¾®ä¿¡æ²¡æœ‰æ‰“å¼€

**åŸå› **: å¯åŠ¨å¾®ä¿¡çš„Intenté…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:

ä½¿ç”¨ComponentNameç›´æ¥æŒ‡å®šActivity:
````java
Intent intent = new Intent();
intent.setComponent(new ComponentName(
    "com.tencent.mm",
    "com.tencent.mm.ui.LauncherUI"
));
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);
````

**éªŒè¯å¾®ä¿¡åŒ…å**:
````bash
adb shell pm list packages | grep tencent
# åº”è¯¥çœ‹åˆ°: package:com.tencent.mm
````

---

### Q9: æ— éšœç¢æœåŠ¡æ— æ³•å¼€å¯

**ç°è±¡**: åœ¨è®¾ç½®ä¸­æ‰¾ä¸åˆ°WeChatAuto,æˆ–è€…å¼€å…³æ— æ³•æ‰“å¼€

**è§£å†³æ–¹æ¡ˆ**:

1. **æ£€æŸ¥é…ç½®æ–‡ä»¶**:
   - `AndroidManifest.xml`ä¸­æ˜¯å¦å£°æ˜äº†æœåŠ¡
   - `accessibility_service_config.xml`æ˜¯å¦å­˜åœ¨

2. **é‡æ–°å®‰è£…åº”ç”¨**:
   ````bash
   adb uninstall com.wechat.auto
   adb install app-debug.apk
   ````

3. **é‡å¯æ‰‹æœº**

---

### Q10: æ— éšœç¢æœåŠ¡é¢‘ç¹æ–­å¼€

**ç°è±¡**: æ— éšœç¢æœåŠ¡è‡ªåŠ¨å…³é—­

**å¯èƒ½åŸå› **:
- ç³»ç»Ÿçœç”µç­–ç•¥
- å†…å­˜ä¸è¶³è¢«æ€

**è§£å†³æ–¹æ¡ˆ**:

1. **å…³é—­çœç”µé™åˆ¶**:
   ````
   è®¾ç½® -> ç”µæ±  -> WeChatAuto -> æ— é™åˆ¶
   ````

2. **é”å®šåå°**:
   ````
   æœ€è¿‘ä»»åŠ¡ -> WeChatAuto -> é”å®š
   ````

3. **æ·»åŠ åˆ°ç™½åå•**:
   ````
   è®¾ç½® -> åº”ç”¨ç®¡ç† -> WeChatAuto -> è‡ªå¯åŠ¨ (å…è®¸)
   ````

---

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

````bash
# æ¸…ç©ºæ—¥å¿—
adb -s 192.168.1.3:41239 logcat -c

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
adb -s 192.168.1.3:41239 logcat | grep -E "WeChatAuto|com.wechat.auto"

# åªçœ‹é”™è¯¯
adb -s 192.168.1.3:41239 logcat *:E | grep WeChatAuto
````

---

### æŸ¥çœ‹åº”ç”¨ä¿¡æ¯

````bash
# æ£€æŸ¥åº”ç”¨æ˜¯å¦å®‰è£…
adb shell pm list packages | grep wechat.auto

# æŸ¥çœ‹åº”ç”¨è¯¦ç»†ä¿¡æ¯
adb shell dumpsys package com.wechat.auto

# æŸ¥çœ‹åº”ç”¨æƒé™
adb shell dumpsys package com.wechat.auto | grep permission
````

---

### æ‰‹åŠ¨å¯åŠ¨åº”ç”¨

````bash
# å¯åŠ¨ä¸»Activity
adb shell am start -n com.wechat.auto/.MainActivity

# å¯åŠ¨å¾®ä¿¡
adb shell am start -n com.tencent.mm/.ui.LauncherUI
````

---

## ğŸ’¡ å¼€å‘å»ºè®®

### 1. ä¿æŒæ—¥å¿—è¾“å‡º

åœ¨å…³é”®ä½ç½®æ·»åŠ Log:
````java
Log.d(TAG, "å…³é”®æ“ä½œ: " + è¯¦ç»†ä¿¡æ¯);
Log.e(TAG, "é”™è¯¯ä¿¡æ¯: " + e.getMessage(), e);
````

### 2. ä½¿ç”¨Toaståé¦ˆ

è®©ç”¨æˆ·çŸ¥é“æ“ä½œç»“æœ:
````java
Toast.makeText(this, "æ“ä½œæˆåŠŸ", Toast.LENGTH_SHORT).show();
````

### 3. å¼‚å¸¸å¤„ç†

æ‰€æœ‰å¯èƒ½å‡ºé”™çš„åœ°æ–¹éƒ½è¦try-catch:
````java
try {
    // å¯èƒ½å‡ºé”™çš„ä»£ç 
} catch (Exception e) {
    Log.e(TAG, "æ“ä½œå¤±è´¥", e);
    Toast.makeText(this, "æ“ä½œå¤±è´¥: " + e.getMessage(), Toast.LENGTH_LONG).show();
}
````

### 4. å¿«é€Ÿè¿­ä»£

åˆ©ç”¨å‘½ä»¤è¡Œç¼–è¯‘,å®ç°ç§’çº§è¿­ä»£:
````bash
# ä¸€æ¡å‘½ä»¤å®Œæˆç¼–è¯‘å’Œå®‰è£…
export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home" && \
./gradlew assembleDebug && \
adb -s 192.168.1.3:41239 install -r app/build/outputs/apk/debug/app-debug.apk
````

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md) - å¼€å‘æµç¨‹å’Œè§„èŒƒ
- [è‡ªåŠ¨åŒ–æ–‡æ¡£](./è‡ªåŠ¨åŒ–æ–‡æ¡£.md) - æŠ€æœ¯å®ç°è¯¦è§£
- [README](../README.md) - é¡¹ç›®æ€»è§ˆ

---

[è¿”å›README](../README.md)
