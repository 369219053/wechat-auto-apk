# å¼€å‘æŒ‡å—

æœ¬æ–‡æ¡£è®°å½•å¾®ä¿¡ç§åŸŸè‡ªåŠ¨åŒ–APKé¡¹ç›®çš„å¼€å‘æµç¨‹å’Œè§„èŒƒã€‚

---

## ğŸ¯ å¼€å‘ç­–ç•¥

**æ ¸å¿ƒæµç¨‹**: å‘½ä»¤è¡Œç¼–è¯‘ + çœŸæœºæµ‹è¯•

1. **å°ç‰›é©¬**: ä½¿ç”¨å‘½ä»¤è¡Œç¼–è¯‘APK
2. **åˆ€ä»”è€æ¿**: åœ¨çœŸæœºä¸Šæµ‹è¯•åŠŸèƒ½
3. **åé¦ˆè¿­ä»£**: æ ¹æ®æµ‹è¯•ç»“æœå¿«é€Ÿä¿®å¤

**ä¼˜åŠ¿**:
- âœ… ç¼–è¯‘é€Ÿåº¦å¿« (4ç§’å·¦å³)
- âœ… è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜
- âœ… çœŸæœºæµ‹è¯•æ›´å‡†ç¡®
- âœ… æ— éœ€æ“ä½œAndroid Studio

---

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
å¾®ä¿¡ç§åŸŸè‡ªåŠ¨åŒ–APK/
â”œâ”€â”€ app/                                    # Androidåº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ build.gradle                        # æ¨¡å—æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ proguard-rules.pro                  # æ··æ·†è§„åˆ™
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main/
â”‚           â”œâ”€â”€ AndroidManifest.xml         # åº”ç”¨é…ç½®æ¸…å•
â”‚           â”œâ”€â”€ java/com/wechat/auto/       # Javaæºä»£ç 
â”‚           â”‚   â”œâ”€â”€ MainActivity.java       # ä¸»Activity
â”‚           â”‚   â”œâ”€â”€ service/
â”‚           â”‚   â”‚   â””â”€â”€ WeChatAccessibilityService.java  # æ— éšœç¢æœåŠ¡
â”‚           â”‚   â””â”€â”€ utils/
â”‚           â”‚       â””â”€â”€ PermissionHelper.java            # æƒé™å·¥å…·ç±»
â”‚           â””â”€â”€ res/                        # èµ„æºæ–‡ä»¶
â”‚               â”œâ”€â”€ layout/                 # å¸ƒå±€æ–‡ä»¶
â”‚               â”‚   â””â”€â”€ activity_main.xml
â”‚               â”œâ”€â”€ values/                 # å€¼èµ„æº
â”‚               â”‚   â”œâ”€â”€ strings.xml
â”‚               â”‚   â”œâ”€â”€ colors.xml
â”‚               â”‚   â””â”€â”€ themes.xml
â”‚               â”œâ”€â”€ mipmap-*/               # åº”ç”¨å›¾æ ‡
â”‚               â”‚   â”œâ”€â”€ ic_launcher.png
â”‚               â”‚   â””â”€â”€ ic_launcher_round.png
â”‚               â””â”€â”€ xml/                    # XMLé…ç½®
â”‚                   â”œâ”€â”€ accessibility_service_config.xml
â”‚                   â”œâ”€â”€ backup_rules.xml
â”‚                   â””â”€â”€ data_extraction_rules.xml
â”œâ”€â”€ build.gradle                            # æ ¹æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle                         # é¡¹ç›®è®¾ç½®
â”œâ”€â”€ gradle.properties                       # Gradleå±æ€§
â””â”€â”€ .gitignore                              # Gitå¿½ç•¥æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å‘æµç¨‹

### ç¬¬1æ­¥: ä¿®æ”¹ä»£ç 

å°ç‰›é©¬ä¿®æ”¹Javaä»£ç æˆ–èµ„æºæ–‡ä»¶

### ç¬¬2æ­¥: å‘½ä»¤è¡Œç¼–è¯‘APK

```bash
# è®¾ç½®Javaç¯å¢ƒå¹¶ç¼–è¯‘
export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home"
./gradlew assembleDebug
```

**ç¼–è¯‘è¾“å‡º**: `app/build/outputs/apk/debug/app-debug.apk`

**ç¼–è¯‘æ—¶é—´**: çº¦4ç§’

### ç¬¬3æ­¥: æ— çº¿è¿æ¥çœŸæœº

```bash
# è¿æ¥åˆ°vivoæ‰‹æœº (ä¹‹å‰å·²é…å¯¹)
adb connect 192.168.1.3:41239

# éªŒè¯è¿æ¥
adb devices
```

### ç¬¬4æ­¥: å®‰è£…APKåˆ°çœŸæœº

```bash
# å®‰è£…åˆ°æŒ‡å®šè®¾å¤‡
adb -s 192.168.1.3:41239 install -r app/build/outputs/apk/debug/app-debug.apk
```

**å®‰è£…æˆåŠŸ**: æ˜¾ç¤º `Success`

### ç¬¬5æ­¥: çœŸæœºæµ‹è¯•

åˆ€ä»”è€æ¿åœ¨vivoæ‰‹æœºä¸Š:
1. æ‰“å¼€åº”ç”¨ "WeChatAuto"
2. æµ‹è¯•åŠŸèƒ½
3. åé¦ˆé—®é¢˜

### ç¬¬6æ­¥: å¿«é€Ÿè¿­ä»£

æ ¹æ®æµ‹è¯•åé¦ˆ:
1. å°ç‰›é©¬ä¿®æ”¹ä»£ç 
2. é‡æ–°ç¼–è¯‘ (4ç§’)
3. é‡æ–°å®‰è£…
4. å†æ¬¡æµ‹è¯•

---

## ğŸ“± æ— çº¿ADBè°ƒè¯•é…ç½®

### é¦–æ¬¡é…å¯¹ (å·²å®Œæˆ)

```bash
# 1. æ‰‹æœºå¼€å¯æ— çº¿è°ƒè¯•
è®¾ç½® -> ç³»ç»Ÿ -> å¼€å‘è€…é€‰é¡¹ -> æ— çº¿è°ƒè¯•

# 2. ä½¿ç”¨é…å¯¹ç é…å¯¹
adb pair IP:ç«¯å£
# è¾“å…¥é…å¯¹ç 

# 3. è¿æ¥è®¾å¤‡
adb connect IP:5555
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# ç›´æ¥è¿æ¥ (å·²é…å¯¹è¿‡)
adb connect 192.168.1.3:41239

# æ–­å¼€è¿æ¥
adb disconnect 192.168.1.3:41239
```

---

## ğŸ”§ è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
adb -s 192.168.1.3:41239 logcat | grep -E "WeChatAuto|com.wechat.auto"

# æ¸…ç©ºæ—¥å¿—åæŸ¥çœ‹
adb -s 192.168.1.3:41239 logcat -c
adb -s 192.168.1.3:41239 logcat | grep WeChatAuto
```

### æŸ¥çœ‹åº”ç”¨ä¿¡æ¯

```bash
# æŸ¥çœ‹åº”ç”¨æ˜¯å¦å®‰è£…
adb -s 192.168.1.3:41239 shell pm list packages | grep wechat.auto

# æŸ¥çœ‹åº”ç”¨è¯¦ç»†ä¿¡æ¯
adb -s 192.168.1.3:41239 shell dumpsys package com.wechat.auto
```

### å¯åŠ¨åº”ç”¨

```bash
# å¯åŠ¨ä¸»Activity
adb -s 192.168.1.3:41239 shell am start -n com.wechat.auto/.MainActivity
```

### å¸è½½åº”ç”¨

```bash
# å¸è½½åº”ç”¨
adb -s 192.168.1.3:41239 uninstall com.wechat.auto
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: ç¼–è¯‘å¤±è´¥ - æ‰¾ä¸åˆ°Java

**è§£å†³æ–¹æ¡ˆ**:
```bash
# è®¾ç½®JAVA_HOMEç¯å¢ƒå˜é‡
export JAVA_HOME="/Applications/Android Studio.app/Contents/jbr/Contents/Home"
```

### Q2: ç¼–è¯‘å¤±è´¥ - gradle-wrapperæŸå

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°ä¸‹è½½wrapper
curl -L -o gradle/wrapper/gradle-wrapper.jar \
  https://raw.githubusercontent.com/gradle/gradle/master/gradle/wrapper/gradle-wrapper.jar
```

### Q3: ç¼–è¯‘å¤±è´¥ - ç¼ºå°‘èµ„æºæ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥é”™è¯¯ä¿¡æ¯,è¡¥å……ç¼ºå¤±çš„èµ„æºæ–‡ä»¶
# ä¾‹å¦‚: ç¼ºå°‘åº”ç”¨å›¾æ ‡,éœ€è¦åˆ›å»ºmipmapç›®å½•å’Œå›¾æ ‡æ–‡ä»¶
```

### Q4: æ— æ³•è¿æ¥çœŸæœº

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€WiFi
# 2. æ£€æŸ¥æ‰‹æœºæ— çº¿è°ƒè¯•æ˜¯å¦å¼€å¯
# 3. é‡æ–°è¿æ¥
adb disconnect 192.168.1.3:41239
adb connect 192.168.1.3:41239
```

### Q5: å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# 1. å¸è½½æ—§ç‰ˆæœ¬
adb -s 192.168.1.3:41239 uninstall com.wechat.auto

# 2. é‡æ–°å®‰è£…
adb -s 192.168.1.3:41239 install -r app/build/outputs/apk/debug/app-debug.apk
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å¼€å‘è¯­è¨€**: Java
- **æœ€ä½SDK**: API 26 (Android 8.0)
- **ç›®æ ‡SDK**: API 34 (Android 14)
- **æ„å»ºå·¥å…·**: Gradle 8.13
- **Android Gradle Plugin**: 8.13.1
- **æ ¸å¿ƒæŠ€æœ¯**: AccessibilityService (æ— éšœç¢æœåŠ¡)

---

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **macOS**: 10.14+
- **Android Studio**: æœ€æ–°ç‰ˆæœ¬
- **JDK**: 21 (Android Studioè‡ªå¸¦)
- **æµ‹è¯•è®¾å¤‡**: vivoæ‰‹æœº (Android 15, SDK 35)
- **ç½‘ç»œ**: æ‰‹æœºå’Œç”µè„‘éœ€åœ¨åŒä¸€WiFi

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [README](../README.md) - é¡¹ç›®æ€»è§ˆ
- [è‡ªåŠ¨åŒ–æ–‡æ¡£](./è‡ªåŠ¨åŒ–æ–‡æ¡£.md) - å¼€å‘è¿›åº¦å’ŒæŠ€æœ¯å®ç°
- [å¸¸è§é—®é¢˜](./å¸¸è§é—®é¢˜.md) - å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

---

[è¿”å›README](../README.md)

